(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{239:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),n=s(2115),a=s(2825);class l{async qna(e){return(await (0,a.D)("/front/qna",e||{})).data}async saveQna(e){return(await (0,a.D)("/front/save-qna",e||{})).data}}let i=new l;function c(){let[e,t]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{t((await i.qna({})).data||[])})()},[]),(0,r.jsxs)("div",{className:"qna-list",children:[(0,r.jsx)("div",{className:"scroll-wrapper",children:(0,r.jsxs)("table",{className:"list-table",children:[(0,r.jsxs)("colgroup",{children:[(0,r.jsx)("col",{width:"100"}),(0,r.jsx)("col",{width:"100"}),(0,r.jsx)("col",{width:"150"}),(0,r.jsx)("col",{width:"*"})]}),(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"문의번호"}),(0,r.jsx)("th",{children:"문의자명"}),(0,r.jsx)("th",{children:"문의자전화번호"}),(0,r.jsx)("th",{children:"제목"})]})}),(0,r.jsx)("tbody",{children:e.length>0?e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"tc",children:e.qnaNo}),(0,r.jsx)("td",{children:e.memberName}),(0,r.jsx)("td",{children:e.phoneNo}),(0,r.jsx)("td",{children:e.title.length>15?e.title.slice(0,15)+"…":e.title})]},e.qnaNo)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,style:{textAlign:"center",padding:"100px 0"},children:"문의가 없습니다."})})})]})}),(0,r.jsx)("p",{className:"text-info",children:"최근 문의내역 10개만 볼 수 있습니다."})]})}var o=s(9925);function d(e){let{showFormPopup:t,setShowFormPopup:s}=e,{showAlert:a,hideAlert:l}=(0,o.A)(),c={companyId:"chlois",memberName:"",phoneNo:"",title:"",content:""},[d,h]=(0,n.useState)(c);if((0,n.useEffect)(()=>{t||h(c)},[t]),!t)return null;let u=e=>{let{name:t,value:s}=e.target;if("phoneNo"===t){var r;r=s,s=/^\d*$/.test(r)?r:r.replace(/\D/g,"")}h(e=>({...e,[t]:s}))},x=async e=>{var t;if(e.preventDefault(),t=d.phoneNo,!/^(010|999)(-?\d{3,4})-?\d{4}$/.test(t))return void a({message:"올바른 전화번호가 아닙니다."});let r=await i.saveQna(d);a({message:r.message,buttons:[{type:"on",text:"확인",callback:()=>{l(),r.success&&(s(!1),window.location.reload())}}]})};return(0,r.jsx)("div",{className:"qna-form-popup",children:(0,r.jsx)("div",{className:"form",children:(0,r.jsxs)("form",{id:"formQna",onSubmit:x,children:[(0,r.jsx)("table",{className:"write-table",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"문의자명"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",name:"memberName",value:d.memberName,onChange:u,required:!0,maxLength:15})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"휴대폰번호"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",name:"phoneNo",value:d.phoneNo,onChange:u,required:!0,maxLength:11})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"제목"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",name:"title",value:d.title,onChange:u,required:!0,maxLength:50})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"내용"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("textarea",{name:"content",value:d.content,onChange:u,maxLength:80,required:!0,style:{height:"120px"}}),(0,r.jsx)("br",{}),d.content.length," / 80 자"]})]})]})}),(0,r.jsxs)("div",{className:"button-wrapper",children:[(0,r.jsx)("button",{type:"submit",children:"확인"}),(0,r.jsx)("button",{type:"button",onClick:()=>s(!1),children:"취소"})]})]})})})}function h(){let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),(0,r.jsxs)("div",{className:"qna",children:[(0,r.jsx)(d,{showFormPopup:s,setShowFormPopup:a}),(0,r.jsx)(c,{}),(0,r.jsx)("div",{className:"button-wrapper",children:(0,r.jsx)("button",{type:"button",className:"on",onClick:()=>{a(!0)},children:"문의하기"})})]})}},2825:(e,t,s)=>{"use strict";s.d(t,{D:()=>h});var r=s(3464),n=s(6552),a=s(9925);let{startLoading:l,stopLoading:i}=n.A.getState(),{showAlert:c,hideAlert:o}=a.A.getState(),d=r.A.create({timeout:1e4,baseURL:"https://ohnae8.mycafe24.com/api"});d.interceptors.request.use(e=>(l(),e),e=>(i(),console.log(e),Promise.reject())),d.interceptors.response.use(e=>{if(i(),200===e.status)return e;Promise.reject()},e=>{var t,s;i();let r=null==(t=e.response)?void 0:t.data;switch(null==(s=e.response)?void 0:s.status){case 401:case 403:break;case 503:c({message:r.message,buttons:[{type:"on",text:"확인",callback:()=>{o()}}]})}return Promise.reject()});let h=(e,t)=>d({url:e,data:JSON.stringify(t),method:"post",headers:{"Content-Type":"application/json"},withCredentials:!1})},6552:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(5453).v)(e=>({loading:!1,target:"",startLoading:t=>{e(()=>({loading:!0,target:t&&t.target?t.target:""}))},stopLoading:()=>{e(()=>({loading:!1,initLoading:!1,target:""}))}}))},6922:(e,t,s)=>{Promise.resolve().then(s.bind(s,239))},9925:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(5453).v)(e=>({alert:null,error:!1,showAlert:t=>{e(()=>({alert:t}))},hideAlert:()=>{e(()=>({alert:null}))},showError:()=>{e(()=>({error:!0}))},hideError:()=>{e(()=>({error:!1}))}}))}},e=>{e.O(0,[604,441,964,358],()=>e(e.s=6922)),_N_E=e.O()}]);